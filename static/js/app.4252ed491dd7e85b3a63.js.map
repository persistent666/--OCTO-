{"version":3,"sources":["webpack:///./src/App.vue?3f40","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/store/mutations.js","webpack:///./src/store/actions.js","webpack:///./src/store/index.js","webpack:///./src/main.js","webpack:///./src/utils/request.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","Vue","use","Router","router","routes","path","component","Promise","all","e","then","bind","redirect","children","beforeEach","to","from","next","JSON","parse","sessionStorage","getItem","Toast","fail","push","state","user","cartList","mutations","changeUser","setItem","stringify_default","removeItem","changeCartList","arr","actions","userActions","context","commit","cartListActions","uid","getCart","res","data","list","Vuex","store","Store","getters","sumAcount","sum","map","item","price","num","total","config","productionTip","Vant","prototype","$preImg","el","components","App","template","d","__webpack_exports__","getBanner","getIndexGoods","getCate","getGoodsList","register","login","addCart","delCart","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","n","__WEBPACK_IMPORTED_MODULE_1_qs__","__WEBPACK_IMPORTED_MODULE_1_qs___default","__WEBPACK_IMPORTED_MODULE_2_vant__","axios","interceptors","request","headers","authorization","token","response","code","msg","method","url","params","qs","stringify"],"mappings":"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","file":"static/js/app.4252ed491dd7e85b3a63.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-098f41b1\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-098f41b1\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-098f41b1\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import { Toast } from 'vant'\nimport Vue from 'vue'\nimport Router from 'vue-router'\n\n\nVue.use(Router)\n// 布局组件\nconst index = ()=>import('../pages/index')\n\n// 页面组件\nconst login = ()=>import('../pages/login')\nconst register = ()=>import('../pages/register')\nconst home = ()=>import('../pages/home')\nconst cate = ()=>import('../pages/cate')\nconst cart = ()=>import('../pages/cart')\nconst goodsList = ()=>import('../pages/goodsList')\nconst mime = ()=>import('../pages/mime')\n\nconst router =  new Router({\n  routes: [\n    {\n      path:'/',\n      component:index,\n      redirect:'/login',\n      children:[\n        {\n          path:'home',\n          component:home,\n        },\n        {\n          path:'cate',\n          component:cate,\n        },\n        {\n          path:'cart',\n          component:cart,\n        },\n        {\n          path:'mime',\n          component:mime,\n        },\n      ]\n    },\n    {\n      path:'/login',\n      component:login,\n    },\n    {\n      path:'/register',\n      component:register,\n    },\n    {\n      path:'/goodsList',\n      component:goodsList,\n    },\n    {\n      path:'*',\n      redirect:'/login',\n    }\n  ]\n})\n\n// 做全局路由守卫\nrouter.beforeEach((to,from,next)=>{\n  if(to.path == '/mime' || to.path == '/cart'){\n    // 获取用户信息\n    const user = JSON.parse(sessionStorage.getItem('user'))\n    if(!user){\n      // 消息提示\n      Toast.fail('请登录');\n      // 去到登录页面\n      router.push('/login')\n      return\n    }\n  }\n  next();\n})\n\nexport default router\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","export const state = {\r\n    // 存放用户信息\r\n    user:sessionStorage.getItem('user') ? JSON.parse(sessionStorage.getItem('user')) : null,\r\n    cartList :[],//购物车列表\r\n}\r\nexport const mutations = {\r\n    changeUser(state,user){\r\n        // 将用户信息存入到store中的state里\r\n        state.user = user;\r\n        if(user){\r\n            // 将用户信息存入到sessionStorage中\r\n            sessionStorage.setItem('user',JSON.stringify(user))\r\n        }else{\r\n            sessionStorage.removeItem('user')\r\n        }\r\n    },\r\n    changeCartList(state,arr){\r\n        state.cartList = arr\r\n    }\r\n}\r\nexport const getters = {\r\n    user(state){\r\n        return state.user\r\n    },\r\n    cartList(state){\r\n        return state.cartList\r\n    },\r\n    // 求总价\r\n    sumAcount(state){\r\n        let sum = 0;\r\n        if(state.cartList !== null){\r\n            state.cartList.map(item=>{\r\n            sum += item.price*item.num\r\n        }) \r\n        }\r\n        return sum*100\r\n    },\r\n    total(state){\r\n        let total = 0;\r\n        if(state.cartList !== null){\r\n             state.cartList.map(item=>{\r\n            total += item.num\r\n        })\r\n        }\r\n        return total\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/mutations.js","import { getCart } from \"../utils/request\"\r\n\r\nexport default {\r\n    userActions(context,user){\r\n        context.commit(\"changeUser\",user)\r\n    },\r\n    cartListActions(context,uid){\r\n        // 发起购物车列表请求\r\n        getCart({uid}).then(res=>{\r\n            context.commit('changeCartList',res.data.list)\r\n        })\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/actions.js","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nVue.use(Vuex)\r\n\r\nimport { state,mutations,getters } from \"./mutations\";\r\nimport  actions from \"./actions\";\r\n\r\n\r\nexport default new Vuex.Store({\r\n    state,\r\n    mutations,\r\n    actions,\r\n    getters\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n// 引入vant组件\nimport Vant from 'vant';\nimport 'vant/lib/index.css';\n\nVue.use(Vant);\n\n// 开发环境中\n// Vue.prototype.$preImg = \"http://localhost:3000\";\n//  生产环境中\nVue.prototype.$preImg = \"\";\n\n//  引入状态管理\nimport store from \"./store\";\n\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import axios from \"axios\";\r\nimport qs from \"qs\";\r\nimport { Toast } from \"vant\";\r\n\r\n// 配置基础路径\r\n// const baseUrl = \"/api\";\r\n\r\n// 生产环境下\r\nconst baseUrl = \"\";\r\n\r\n// 设置请求头\r\naxios.interceptors.request.use(config=>{\r\n    // console.group('本次请求地址为:'+config.url)\r\n    // 设置请求头\r\n    const user = JSON.parse(sessionStorage.getItem('user'))\r\n    if(user){\r\n        // 开启设置请求头\r\n        config.headers.authorization = user.token;\r\n    }\r\n    return config\r\n})\r\n\r\n// 设置响应拦截\r\naxios.interceptors.response.use(res=>{\r\n    // console.group('本次响应路径为:'+res.config.url)\r\n    if(res.data.code !== 200){\r\n        // 提示错误信息\r\n        Toast.fail(res.data.msg);\r\n        return;\r\n    }\r\n    return res;\r\n})\r\n\r\n// 发起轮播图请求\r\nexport const getBanner = ()=>{\r\n    return axios({\r\n        method:'get',\r\n        url:baseUrl+'/api/getbanner'\r\n    })\r\n}\r\n\r\n// 发起获取首页商品信息\r\nexport const getIndexGoods = ()=>{\r\n    return axios({\r\n        method:'get',\r\n        url:baseUrl+'/api/getindexgoods'\r\n    })\r\n}\r\n\r\n// 获取分类\r\nexport const getCate = ()=>{\r\n    return axios({\r\n        method:'get',\r\n        url:baseUrl+'/api/getcatetree',\r\n    })\r\n}\r\n\r\n// 获取商品列表\r\nexport const getGoodsList = (params)=>{\r\n    return axios({\r\n        method:'get',\r\n        url:baseUrl+'/api/getgoods',\r\n        params,\r\n    })\r\n}\r\n\r\n//  会员注册\r\nexport const register = (data)=>{\r\n    return axios({\r\n        method:'post',\r\n        url:baseUrl+'/api/register',\r\n        data:qs.stringify(data)\r\n    })\r\n}\r\n\r\n// 会员登录\r\nexport const login = (data)=>{\r\n    return axios ({\r\n        method:'post',\r\n        url:baseUrl+'/api/login',\r\n        data:qs.stringify(data)\r\n    })\r\n}\r\n\r\n// 获取购物车\r\nexport const getCart = (params)=>{\r\n    return axios({\r\n        method:'get',\r\n        url:baseUrl+'/api/cartlist',\r\n        params,\r\n    })\r\n}\r\n\r\n// 添加购物车\r\nexport const addCart = (data)=>{\r\n    return axios({\r\n        method:\"post\",\r\n        url:baseUrl+\"/api/cartadd\",\r\n        data:qs.stringify(data)\r\n    })\r\n}\r\n\r\n// 删除购物车\r\nexport const delCart = (data)=>{\r\n    return axios({\r\n        method:'post',\r\n        url:baseUrl+\"/api/cartdelete\",\r\n        data:qs.stringify(data)\r\n    })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/request.js"],"sourceRoot":""}