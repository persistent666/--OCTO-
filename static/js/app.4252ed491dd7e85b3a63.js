webpackJsonp([10],{"4ml/":function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("7+uW"),i={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("router-view")],1)},staticRenderFns:[]};var o=e("VU/8")({},i,!1,function(t){e("x6W5")},null,null).exports,u=e("Fd2+"),a=e("/ocq");r.a.use(a.a);var s=new a.a({routes:[{path:"/",component:function(){return Promise.all([e.e(0),e.e(6)]).then(e.bind(null,"2NXm"))},redirect:"/login",children:[{path:"home",component:function(){return Promise.all([e.e(0),e.e(4)]).then(e.bind(null,"vkyI"))}},{path:"cate",component:function(){return e.e(2).then(e.bind(null,"TA+J"))}},{path:"cart",component:function(){return Promise.all([e.e(0),e.e(7)]).then(e.bind(null,"ltQH"))}},{path:"mime",component:function(){return Promise.all([e.e(0),e.e(5)]).then(e.bind(null,"qKB8"))}}]},{path:"/login",component:function(){return Promise.all([e.e(0),e.e(8)]).then(e.bind(null,"Luci"))}},{path:"/register",component:function(){return e.e(1).then(e.bind(null,"1cHr"))}},{path:"/goodsList",component:function(){return e.e(3).then(e.bind(null,"D228"))}},{path:"*",redirect:"/login"}]});s.beforeEach(function(t,n,e){if(("/mime"==t.path||"/cart"==t.path)&&!JSON.parse(sessionStorage.getItem("user")))return u.a.fail("请登录"),void s.push("/login");e()});var c=s,l=(e("4ml/"),e("NYxO")),p=e("mvHQ"),f=e.n(p),d={user:sessionStorage.getItem("user")?JSON.parse(sessionStorage.getItem("user")):null,cartList:[]},m={changeUser:function(t,n){t.user=n,n?sessionStorage.setItem("user",f()(n)):sessionStorage.removeItem("user")},changeCartList:function(t,n){t.cartList=n}},g=e("vLgD"),h={userActions:function(t,n){t.commit("changeUser",n)},cartListActions:function(t,n){Object(g.d)({uid:n}).then(function(n){t.commit("changeCartList",n.data.list)})}};r.a.use(l.a);var v=new l.a.Store({state:d,mutations:m,actions:h,getters:{user:function(t){return t.user},cartList:function(t){return t.cartList},sumAcount:function(t){var n=0;return null!==t.cartList&&t.cartList.map(function(t){n+=t.price*t.num}),100*n},total:function(t){var n=0;return null!==t.cartList&&t.cartList.map(function(t){n+=t.num}),n}}});r.a.config.productionTip=!1,r.a.use(u.b),r.a.prototype.$preImg="",new r.a({el:"#app",router:c,store:v,components:{App:o},template:"<App/>"})},vLgD:function(t,n,e){"use strict";e.d(n,"c",function(){return s}),e.d(n,"g",function(){return c}),e.d(n,"e",function(){return l}),e.d(n,"f",function(){return p}),e.d(n,"i",function(){return f}),e.d(n,"h",function(){return d}),e.d(n,"d",function(){return m}),e.d(n,"a",function(){return g}),e.d(n,"b",function(){return h});var r=e("mtWM"),i=e.n(r),o=e("mw3O"),u=e.n(o),a=e("Fd2+");i.a.interceptors.request.use(function(t){var n=JSON.parse(sessionStorage.getItem("user"));return n&&(t.headers.authorization=n.token),t}),i.a.interceptors.response.use(function(t){if(200===t.data.code)return t;a.a.fail(t.data.msg)});var s=function(){return i()({method:"get",url:"/api/getbanner"})},c=function(){return i()({method:"get",url:"/api/getindexgoods"})},l=function(){return i()({method:"get",url:"/api/getcatetree"})},p=function(t){return i()({method:"get",url:"/api/getgoods",params:t})},f=function(t){return i()({method:"post",url:"/api/register",data:u.a.stringify(t)})},d=function(t){return i()({method:"post",url:"/api/login",data:u.a.stringify(t)})},m=function(t){return i()({method:"get",url:"/api/cartlist",params:t})},g=function(t){return i()({method:"post",url:"/api/cartadd",data:u.a.stringify(t)})},h=function(t){return i()({method:"post",url:"/api/cartdelete",data:u.a.stringify(t)})}},x6W5:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.4252ed491dd7e85b3a63.js.map